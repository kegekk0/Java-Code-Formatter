<div th:fragment="savedCodesListContent">
  <div class="card shadow-sm">
    <div class="card-header bg-primary text-white">
      <h2 class="mb-0">
        <i class="bi bi-archive me-2"></i>Saved Code Snippets
      </h2>
    </div>
    <div class="card-body">
      <div th:if="${savedCodes.empty}" class="text-center py-5">
        <i class="bi bi-folder-x text-muted" style="font-size: 3rem;"></i>
        <h4 class="mt-3 text-muted">No saved codes found</h4>
      </div>

      <div th:unless="${savedCodes.empty}" class="list-group">
        <div th:each="savedCode : ${savedCodes}" class="list-group-item">
          <div class="d-flex justify-content-between align-items-center">
            <div>
              <h5 class="mb-1" th:text="${savedCode.id}"></h5>
              <small class="text-muted">
                Expires: <span th:text="${#temporals.format(savedCode.expirationTime, 'yyyy-MM-dd HH:mm')}"></span>
              </small>
            </div>
            <a th:href="@{'/codeFormater/format/saved/' + ${savedCode.id}}"
               class="btn btn-sm btn-outline-primary">
              <i class="bi bi-eye me-1"></i>View
            </a>
          </div>
          <div class="mt-2">
            <pre class="bg-light p-2 rounded text-truncate"
                 th:text="${savedCode.code.length() > 100 ?
                            savedCode.code.substring(0, 100) + '...' :
                            savedCode.code}">
            </pre>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>